<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>creer_table_pg_depuis_mssql</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#47;</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>-</created_user>
  <created_date>2017&#47;12&#47;20 17:45:55.171</created_date>
  <modified_user>-</modified_user>
  <modified_date>2017&#47;12&#47;20 17:45:55.171</modified_date>
  </info>
  <notepads>
    <notepad>
      <note>Lister les colonnes de la table MSQL</note>
      <xloc>225</xloc>
      <yloc>275</yloc>
      <width>200</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Récupérer le nom de la colonne  PK (1 seule colonne)
de la table MSQL</note>
      <xloc>150</xloc>
      <yloc>875</yloc>
      <width>297</width>
      <heigth>42</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Isoler colonne de type &quot;geometry&quot; si elle existe</note>
      <xloc>675</xloc>
      <yloc>675</yloc>
      <width>258</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Création des contrainte PostgreSQL
- PK
- Contraintes géométriques si elles existent</note>
      <xloc>1225</xloc>
      <yloc>850</yloc>
      <width>238</width>
      <heigth>58</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Type MS SQL -&gt; type PostgreSQL</note>
      <xloc>1056</xloc>
      <yloc>288</yloc>
      <width>188</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Instruction SQL de création de table
et execution sur la base REMOCRA</note>
      <xloc>1800</xloc>
      <yloc>500</yloc>
      <width>205</width>
      <heigth>42</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Fourniture de l&apos;instruction SELECT
à la prochaine transformation</note>
      <xloc>2048</xloc>
      <yloc>144</yloc>
      <width>193</width>
      <heigth>42</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>165</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>Remocra 77</name>
    <server>${REMOCRA_POSTGIS_DATABASE_HOST}</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>${REMOCRA_POSTGIS_DATABASE_NAME}</database>
    <port>${REMOCRA_POSTGIS_DATABASE_PORT}</port>
    <username>${REMOCRA_POSTGIS_DATABASE_USER_NAME}</username>
    <password>${REMOCRA_POSTGIS_DATABASE_USER_PASSWORD}</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>EXTRA_OPTION_POSTGRESQL.stringtype</code><attribute>unspecified</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>${REMOCRA_POSTGIS_DATABASE_PORT}</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>SDIS</name>
    <server>${PDI_MSSQL_DATABASE_HOST}</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>${PDI_MSSQL_DATABASE_NAME}</database>
    <port>${PDI_MSSQL_DATABASE_PORT}</port>
    <username>${PDI_MSSQL_DATABASE_USER_NAME}</username>
    <password>${PDI_MSSQL_DATABASE_USER_PASSWORD}</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>${PDI_MSSQL_DATABASE_PORT}</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Colonne de geometrie &#47; autre</from><to>Autres type de colonnes</to><enabled>Y</enabled> </hop>  <hop> <from>Definition contraintes + index</from><to>SQL CONTRAINTE + INDEX</to><enabled>Y</enabled> </hop>  <hop> <from>Derniere colonne table</from><to>schema et table (structure)</to><enabled>Y</enabled> </hop>  <hop> <from>Définition du &quot;CREATE TABLE&quot;</from><to>SQL CREATE TABLE</to><enabled>Y</enabled> </hop>  <hop> <from>Factice</from><to>schema et table (contrainte)</to><enabled>Y</enabled> </hop>  <hop> <from>Fitrage (1)</from><to>schema et table (contrainte)</to><enabled>Y</enabled> </hop>  <hop> <from>Fitrage (1)</from><to>schema et table (structure)</to><enabled>Y</enabled> </hop>  <hop> <from>Minuscule</from><to>Colonne de geometrie &#47; autre</to><enabled>Y</enabled> </hop>  <hop> <from>Minuscule</from><to>Derniere colonne table</to><enabled>Y</enabled> </hop>  <hop> <from>Minuscule_nom_colonne (contrainte)</from><to>Definition contraintes + index</to><enabled>Y</enabled> </hop>  <hop> <from>Prioritisation de deux flux</from><to>Création de table</to><enabled>Y</enabled> </hop>  <hop> <from>Renommage</from><to>Type &quot;geometry&quot;</to><enabled>Y</enabled> </hop>  <hop> <from>Récupération Variables</from><to>Table Postgresql</to><enabled>Y</enabled> </hop>  <hop> <from>SQL CONTRAINTE + INDEX</from><to>Prioritisation de deux flux</to><enabled>Y</enabled> </hop>  <hop> <from>SQL CREATE TABLE</from><to>Prioritisation de deux flux</to><enabled>Y</enabled> </hop>  <hop> <from>Suppression_espace_nom_colonne</from><to>Minuscule</to><enabled>Y</enabled> </hop>  <hop> <from>Suppression_espace_nom_colonne (contrainte)</from><to>Minuscule_nom_colonne (contrainte)</to><enabled>Y</enabled> </hop>  <hop> <from>Table Postgresql</from><to>Fitrage (1)</to><enabled>Y</enabled> </hop>  <hop> <from>Type &quot;geometry&quot;</from><to>Factice</to><enabled>Y</enabled> </hop>  <hop> <from>Type &quot;pk&quot;</from><to>Factice</to><enabled>Y</enabled> </hop>  <hop> <from>Types MS SQL&#47; Postgresql</from><to>Définition du &quot;CREATE TABLE&quot;</to><enabled>Y</enabled> </hop>  <hop> <from>schema et table (contrainte)</from><to>Suppression_espace_nom_colonne (contrainte)</to><enabled>Y</enabled> </hop>  <hop> <from>Colonnes MS SQL</from><to>Suppression_espace_nom_colonne</to><enabled>Y</enabled> </hop>  <hop> <from>Clef primaire MS SQL</from><to>Type &quot;pk&quot;</to><enabled>Y</enabled> </hop>  <hop> <from>schema et table (structure)</from><to>Types MS SQL&#47; Postgresql</to><enabled>Y</enabled> </hop>  <hop> <from>Types MS SQL&#47; Postgresql</from><to>Définition du &quot;SELECT&quot;</to><enabled>Y</enabled> </hop>  <hop> <from>Définition du &quot;SELECT&quot;</from><to>SQL SELECT</to><enabled>Y</enabled> </hop>  <hop> <from>Colonne de geometrie &#47; autre</from><to>Renommage</to><enabled>Y</enabled> </hop>  <hop> <from>Attente création de table</from><to>Filtre</to><enabled>Y</enabled> </hop>  <hop> <from>Filtre</from><to>Création Variables</to><enabled>Y</enabled> </hop>  <hop> <from>Définition du &quot;SELECT&quot;</from><to>Colonne de geometrie &#47; autre 2</to><enabled>Y</enabled> </hop>  <hop> <from>SQL SELECT</from><to>Join Rows (cartesian product)</to><enabled>Y</enabled> </hop>  <hop> <from>Join Rows (cartesian product)</from><to>Définition du SELECT avec WHERE</to><enabled>Y</enabled> </hop>  <hop> <from>Définition du SELECT avec WHERE</from><to>Attente création de table</to><enabled>Y</enabled> </hop>  <hop> <from>Detect empty stream</from><to>Ajout def_where</to><enabled>Y</enabled> </hop>  <hop> <from>Flux WHERE</from><to>Join Rows (cartesian product)</to><enabled>Y</enabled> </hop>  <hop> <from>Ajout def_where</from><to>Flux WHERE</to><enabled>Y</enabled> </hop>  <hop> <from>Colonne de geometrie &#47; autre 2</from><to>Filtre COLUMN_NAME</to><enabled>Y</enabled> </hop>  <hop> <from>Filtre COLUMN_NAME</from><to>Detect empty stream</to><enabled>Y</enabled> </hop>  <hop> <from>Filtre COLUMN_NAME</from><to>Définition du &quot;WHERE&quot;</to><enabled>Y</enabled> </hop>  <hop> <from>Définition du &quot;WHERE&quot;</from><to>Flux WHERE</to><enabled>Y</enabled> </hop>  </order>
  <step>
    <name>Ajout def_where</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>def_where</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <length>-1</length>
        <precision>-1</precision>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1744</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Attente création de table</name>
    <type>BlockUntilStepsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <steps>
      <step>
        <name>Création de table</name>
        <CopyNr>0</CopyNr>
        </step>
      </steps>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2240</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Autres type de colonnes</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>425</xloc>
      <yloc>525</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Clef primaire MS SQL</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>SDIS</connection>
    <sql>SELECT
	COLUMN_NAME AS colonne
FROM 
    INFORMATION_SCHEMA.TABLE_CONSTRAINTS t, 
    INFORMATION_SCHEMA.CONSTRAINT_COLUMN_USAGE c
WHERE 
    c.Constraint_Name = t.Constraint_Name
    AND t.Constraint_Type = &apos;PRIMARY KEY&apos;
    AND c.Table_Name = &apos;${NOM_TABLE}&apos;

</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>250</xloc>
      <yloc>950</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Colonne de geometrie &#47; autre</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>DATA_TYPE</fieldname>
<use_contains>N</use_contains>
<case_value_type>String</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Autres type de colonnes</default_target_step>
<cases><case><value>geometry</value>
<target_step>Renommage</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>625</xloc>
      <yloc>525</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Colonne de geometrie &#47; autre 2</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>DATA_TYPE</fieldname>
<use_contains>N</use_contains>
<case_value_type>String</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Autres type de colonnes</default_target_step>
<cases><case><value>geometry</value>
<target_step>Filtre COLUMN_NAME</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1264</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Colonnes MS SQL</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>SDIS</connection>
    <sql>SELECT
	TABLE_NAME,
	COLUMN_NAME,
	DATA_TYPE,
	IS_NULLABLE AS NULLABLE,
	ORDINAL_POSITION AS COLUMN_ID,
	CHARACTER_MAXIMUM_LENGTH AS DATA_SCALE
FROM
	information_schema.columns
WHERE
	table_name = &apos;${NOM_TABLE}&apos;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>225</xloc>
      <yloc>325</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Création Variables</name>
    <type>SetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <field_name>SQL_SELECT</field_name>
        <variable_name>SQL_SELECT</variable_name>
        <variable_type>PARENT_JOB</variable_type>
        <default_value/>
        </field>
      <field>
        <field_name>NOM_TABLE_PG</field_name>
        <variable_name>NOM_TABLE_PG</variable_name>
        <variable_type>PARENT_JOB</variable_type>
        <default_value/>
        </field>
      </fields>
    <use_formatting>Y</use_formatting>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2464</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Création de table</name>
    <type>ExecSQLRow</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <commit>1</commit>
    <connection>Remocra 77</connection>
    <sql_field>sql</sql_field>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1900</xloc>
      <yloc>575</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Definition contraintes + index</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel/>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var def_contrainte_et_index = &quot;-- Containtes et index de la table PostgreSQL &quot; + schema_postgresql + &quot;.&quot; + table_postgresql + &quot;\n&quot;

if(type == &apos;pk&apos;){
	def_contrainte_et_index += &quot;ALTER TABLE &quot; + schema_postgresql + &quot;.&quot; + table_postgresql + &quot; ADD CONSTRAINT &quot; + table_postgresql + &quot;_&quot; + colonne + &quot;_pk PRIMARY KEY(&quot; + colonne +&quot;);\n&quot;;
}

if(type == &apos;geometry&apos;){
	def_contrainte_et_index += &quot;ALTER TABLE &quot; + schema_postgresql + &quot;.&quot; + table_postgresql + &quot; ADD CONSTRAINT &quot; + table_postgresql + &quot;_&quot; + colonne + &quot;_dim CHECK(st_ndims(&quot; + colonne + &quot;) = 2);\n&quot;
	def_contrainte_et_index += &quot;ALTER TABLE &quot; + schema_postgresql + &quot;.&quot; + table_postgresql + &quot; ADD CONSTRAINT &quot; + table_postgresql + &quot;_&quot; + colonne + &quot;_srid CHECK(st_srid(&quot; + colonne + &quot;) = 2154);\n&quot;
	&#47;&#47;def_contrainte_et_index += &quot;ALTER TABLE &quot; + schema_postgresql + &quot;.&quot; + table_postgresql + &quot; ADD CONSTRAINT &quot; + table_postgresql + &quot;_&quot; + colonne + &quot;_type CHECK(st_geometrytype(&quot; + geometrie_colonne +  &quot;) = &apos;&quot;+ type_geometrie +&quot;&apos;);\n&quot;
	def_contrainte_et_index += &quot;CREATE INDEX &quot; + table_postgresql + &quot;_&quot; + colonne + &quot;_idx ON &quot; + schema_postgresql + &quot;.&quot; + table_postgresql + &quot; USING gist(&quot; + colonne + &quot;);\n&quot;;
}

</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>def_contrainte_et_index</name>
        <rename>def_contrainte_et_index</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1728</xloc>
      <yloc>944</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Derniere colonne table</name>
    <type>DetectLastRow</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <resultfieldname>derniere</resultfieldname>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>800</xloc>
      <yloc>325</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Detect empty stream</name>
    <type>DetectEmptyStream</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1568</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Définition du &quot;CREATE TABLE&quot;</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel/>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var def_table = &quot;&quot;;

if(COLUMN_ID==1){

	def_table = &quot;-- Création de la table PostgreSQL &quot; + schema_postgresql + &quot;.&quot; + table_postgresql + &quot;\n&quot;
	+ &quot;DROP TABLE IF EXISTS &quot; + schema_postgresql + &quot;.&quot; + table_postgresql +&quot;;\n&quot;
	+ &quot;CREATE TABLE &quot; + schema_postgresql + &quot;.&quot; + table_postgresql +&quot;(&quot; +&quot;\n&quot;;
}

def_table += &quot;\t&quot; + colonne + &quot; &quot;;
def_table += DATA_TYPE;


if(derniere==false){

	def_table+= &apos;,\n&apos;;

}else{
	def_table += &apos;\n);&apos;;
}</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>def_table</name>
        <rename>def_table</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1568</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Définition du &quot;SELECT&quot;</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var def_select = &quot;&quot;;

if(COLUMN_ID==1){
	def_select = &quot;SELECT\n&quot;;
}
if(DATA_TYPE ==&apos;geometry&apos;){
	def_select += &quot;\t&apos;SRID=2154;&apos;+&quot; + COLUMN_NAME + &quot;.STAsText() AS &quot; + colonne;
}else{
	def_select += &quot;\t&quot; + COLUMN_NAME + &quot; AS &quot; + colonne;
}

if(derniere==false){
	def_select += &apos;,\n&apos;;
}else{
	def_select += &apos;\nFROM\n&apos;
	def_select += &quot;\t&quot; + TABLE_NAME;
}</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>def_select</name>
        <rename>def_select</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1264</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Définition du &quot;WHERE&quot;</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var def_where = &quot;\nWHERE &quot; + COLUMN_NAME + &quot; IS NOT NULL&quot;;
</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>def_where</name>
        <rename>def_where</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1888</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Définition du SELECT avec WHERE</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var sql = def_select;

if(def_where != null){
	sql += def_where;
}
</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>sql</name>
        <rename>sql</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2064</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Factice</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>625</xloc>
      <yloc>950</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filtre</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>sql</name>
        <rename>SQL_SELECT</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>table_postgresql</name>
        <rename>NOM_TABLE_PG</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2352</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Filtre COLUMN_NAME</name>
    <type>SelectValues</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>COLUMN_NAME</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1440</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Fitrage (1)</name>
    <type>SelectValues</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>schema_postgresql</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>      <field>        <name>table_postgresql</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1000</xloc>
      <yloc>475</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Flux WHERE</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1888</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Join Rows (cartesian product)</name>
    <type>JoinRows</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>%%java.io.tmpdir%%</directory>
      <prefix>out</prefix>
      <cache_size>500</cache_size>
      <main/>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue/>
 <function>=</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1888</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Minuscule</name>
    <type>StringOperations</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>COLUMN_NAME</in_stream_name>
        <out_stream_name>colonne</out_stream_name>
        <trim_type>none</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>625</xloc>
      <yloc>325</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Minuscule_nom_colonne (contrainte)</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>colonne</in_stream_name>
        <out_stream_name/>
        <trim_type>none</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1475</xloc>
      <yloc>950</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Prioritisation de deux flux</name>
    <type>Append</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<head_name>SQL CREATE TABLE</head_name>
<tail_name>SQL CONTRAINTE + INDEX</tail_name>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1728</xloc>
      <yloc>576</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Renommage</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>colonne</name>
        <rename/>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>625</xloc>
      <yloc>675</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Récupération Variables</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>table_ms_sql</name>
        <variable>${NOM_TABLE}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>schema_postgresql</name>
        <variable>${PDI_POSTGRESQL_NOM_SCHEMA_REFERENTIEL}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>775</xloc>
      <yloc>475</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>SQL CONTRAINTE + INDEX</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>      <field>        <name>def_contrainte_et_index</name>
        <rename>sql</rename>
        <length>-2</length>
        <precision>-2</precision>
      </field>        <select_unspecified>N</select_unspecified>
    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1728</xloc>
      <yloc>752</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>SQL CREATE TABLE</name>
    <type>MemoryGroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <give_back_row>Y</give_back_row>
      <group>
      </group>
      <fields>
        <field>
          <aggregate>sql</aggregate>
          <subject>def_table</subject>
          <type>CONCAT_STRING</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1728</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>SQL SELECT</name>
    <type>MemoryGroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <give_back_row>Y</give_back_row>
      <group>
        <field>
          <name>table_postgresql</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>def_select</aggregate>
          <subject>def_select</subject>
          <type>CONCAT_STRING</type>
          <valuefield/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1568</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Suppression_espace_nom_colonne</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>TABLE_NAME</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string/>
        <replace_by_string/>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>COLUMN_NAME</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string> </replace_string>
        <replace_by_string>_</replace_by_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>DATA_TYPE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string/>
        <replace_by_string/>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>NULLABLE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string/>
        <replace_by_string/>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>450</xloc>
      <yloc>325</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Suppression_espace_nom_colonne (contrainte)</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>colonne</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string> </replace_string>
        <replace_by_string>_</replace_by_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1250</xloc>
      <yloc>950</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Table Postgresql</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>table_ms_sql</in_stream_name>
        <out_stream_name>table_postgresql</out_stream_name>
        <trim_type>none</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>900</xloc>
      <yloc>475</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Type &quot;geometry&quot;</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>type</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>geometry</nullif>
        <length>-1</length>
        <precision>-1</precision>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>625</xloc>
      <yloc>800</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Type &quot;pk&quot;</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>type</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>pk</nullif>
        <length>-1</length>
        <precision>-1</precision>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>425</xloc>
      <yloc>950</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Types MS SQL&#47; Postgresql</name>
    <type>ValueMapper</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <field_to_use>DATA_TYPE</field_to_use>
    <target_field/>
    <non_match_default/>
    <fields>
      <field>
        <source_value>geometry</source_value>
        <target_value>geometry</target_value>
      </field>
      <field>
        <source_value>char</source_value>
        <target_value>character varying</target_value>
      </field>
      <field>
        <source_value>varchar</source_value>
        <target_value>character varying</target_value>
      </field>
      <field>
        <source_value>text</source_value>
        <target_value>character varying</target_value>
      </field>
      <field>
        <source_value>nchar</source_value>
        <target_value>character varying</target_value>
      </field>
      <field>
        <source_value>nvarchar</source_value>
        <target_value>character varying</target_value>
      </field>
      <field>
        <source_value>nvarchar</source_value>
        <target_value>character varying</target_value>
      </field>
      <field>
        <source_value>ntext</source_value>
        <target_value>character varying</target_value>
      </field>
      <field>
        <source_value>binary</source_value>
        <target_value>bytea</target_value>
      </field>
      <field>
        <source_value>varbinary</source_value>
        <target_value>bytea</target_value>
      </field>
      <field>
        <source_value>varbinary</source_value>
        <target_value>bytea</target_value>
      </field>
      <field>
        <source_value>image</source_value>
        <target_value>bytea</target_value>
      </field>
      <field>
        <source_value>bit</source_value>
        <target_value>bigint</target_value>
      </field>
      <field>
        <source_value>tinyint</source_value>
        <target_value>bigint</target_value>
      </field>
      <field>
        <source_value>smallint</source_value>
        <target_value>bigint</target_value>
      </field>
      <field>
        <source_value>int</source_value>
        <target_value>bigint</target_value>
      </field>
      <field>
        <source_value>bigint</source_value>
        <target_value>bigint</target_value>
      </field>
      <field>
        <source_value>decimal</source_value>
        <target_value>double precision</target_value>
      </field>
      <field>
        <source_value>numeric</source_value>
        <target_value>double precision</target_value>
      </field>
      <field>
        <source_value>float</source_value>
        <target_value>double precision</target_value>
      </field>
      <field>
        <source_value>real</source_value>
        <target_value>double precision</target_value>
      </field>
      <field>
        <source_value>datetime</source_value>
        <target_value>date</target_value>
      </field>
      <field>
        <source_value>datetime</source_value>
        <target_value>date</target_value>
      </field>
      <field>
        <source_value>smalldatetime</source_value>
        <target_value>date</target_value>
      </field>
      <field>
        <source_value>date</source_value>
        <target_value>date</target_value>
      </field>
      <field>
        <source_value>time</source_value>
        <target_value>date</target_value>
      </field>
      <field>
        <source_value>timestamp</source_value>
        <target_value>timestamp</target_value>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1264</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>schema et table (contrainte)</name>
    <type>JoinRows</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>%%java.io.tmpdir%%</directory>
      <prefix>out</prefix>
      <cache_size>500</cache_size>
      <main/>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue/>
 <function>=</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1000</xloc>
      <yloc>950</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>schema et table (structure)</name>
    <type>JoinRows</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <directory>%%java.io.tmpdir%%</directory>
      <prefix>out</prefix>
      <cache_size>500</cache_size>
      <main/>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue/>
 <function>=</function>
 <rightvalue/>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1000</xloc>
      <yloc>325</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>
</transformation>
